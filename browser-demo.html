<!DOCTYPE html>
<html>
<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.15.0/lodash.js"></script>
  <script src="ripple-0.22.0-min.js"></script>
  <script>
    console.log(ripple);
 //  var api = new ripple.RippleAPI({server:'wss://s1.ripple.com/'});
  var api = new ripple.RippleAPI({server:'wss://s.altnet.rippletest.net:51233'});
    api.connect().then(function() {

        return api.getServerInfo();

    }).then(function(server_info) {


	balance = 0
	account = api.generateAddress();
	console.log("Generated " + account.address);

	const address = 'rLyMETeDAYHRs2CVK8Z4C4LMu2rKqT6LDz';
	api.getAccountInfo(address).then(acc_info => {

		console.log(acc_info);
		balance = acc_info.sequence

    document.body.innerHTML += "<p>Connected to rippled server!</p>" +
"      <table>" +
"        <tr><th>Version</th>" +
"          <td>" + server_info.buildVersion + "</td></tr>" +
"        <tr><th>Generate Address</th>" +
"          <td>" + account.address + "</td></tr>" +
"        <tr><th>Generete Secret</th>" +
"          <td>" + account.secret + "</td></tr>" +
"        <tr><th>Balance Info</th>" +
"          <td>" + balance "</td></tr>" +
"        <tr><th>Most Recent Validated Ledger Hash</th>" +
"          <td>" + server_info.validatedLedger.hash + "</td></tr>" +
"        <tr><th>Seconds since last ledger validated</th>" +
"          <td>" + server_info.validatedLedger.age + "</td></tr>" +
"      </table>";

	});






    });

	


  </script>

  <style type="text/css">
    td, th { border: 1px solid black; padding: 5px; }
    table { border-collapse: collapse; }
  </style>



</head>
<body></body>
</html>

