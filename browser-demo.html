<!DOCTYPE html>
<html>
<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.15.0/lodash.js"></script>
  <script src="ripple-0.22.0-min.js"></script>
  <script>
    console.log(ripple);
 //  var api = new ripple.RippleAPI({server:'wss://s1.ripple.com/'});
  var api = new ripple.RippleAPI({server:'wss://s.altnet.rippletest.net:51233'});
    api.connect().then(function() {

        return api.getServerInfo();

    }).then(function(server_info) {


	xbalance = 0 ; 
	account = api.generateAddress();
	console.log("Generated " + account.address);

	const address = 'rMVqbZvogvTvvH8hWw2NriPdzawkngWT9T';
	const secret  = 'spmKBXSc7ttBQwkK573bhoj2RNhhL';

	const addrB = 'rMKqQMdXnB7dJwTcniYYvAvGw2z1PRF5kH';
	const secB = 'ssiwE2dYDucMpm4PMmFxjsEyfLmCu';

	api.getAccountInfo(address).then(acc_info => {

		console.log("Account Balance = "+ acc_info.xrpBalance);
		xbalance = acc_info.xrpBalance;


const id = '335AF6BCDCA78A5198E876E41761F1B14BEA379F041F9093A4C7668B0F17F05E';
return api.getTransaction(id).then(transaction => {

    document.body.innerHTML += "<p>Connected to rippled server!</p>" +
"      <table>" +
"        <tr><th>Version</th>" +
"          <td>" + server_info.buildVersion + "</td></tr>" +
"        <tr><th>Generate Address</th>" +
"          <td>" + account.address + "</td></tr>" +
"        <tr><th>Generete Secret</th>" +
"          <td>" + account.secret + "</td></tr>" +
"        <tr><th>Balance Info</th>" +
"          <td>" + xbalance + "</td></tr>" +
"        <tr><th>Most Recent Validated Ledger Hash</th>" +
"          <td>" + server_info.validatedLedger.hash + "</td></tr>" +
"        <tr><th> Blurb </th>" +
"          <td>" + transaction.memos.data + "</td></tr>" +
"      </table>";

	});


});




    });

	


  </script>

  <style type="text/css">
    td, th { border: 1px solid black; padding: 5px; }
    table { border-collapse: collapse; }
  </style>



</head>
<body></body>
</html>

